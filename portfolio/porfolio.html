<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Filtered Visual Portfolio</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap"
      rel="stylesheet"
    />

    <style>
      /* --- 1. CSS VARIABLES --- */
      :root {
        --card-overlay: linear-gradient(
          to top,
          rgba(255, 255, 255, 0.95),
          transparent
        );
        --accent-color: #0066cc;
        --text-color: #1a1a1a;
        --glass-bg: rgba(255, 255, 255, 0.8);
        --glass-border: rgba(0, 0, 0, 0.1);
        --bg-primary: #f5f7fa;
        --bg-secondary: #ffffff;
      }

      /* --- 2. BASE STYLES --- */
      body {
        font-family: "Poppins", sans-serif;
        margin: 0;
        padding: 0;
        color: var(--text-color);
        min-height: 100vh;
        background: linear-gradient(
          270deg,
          #e3f2fd,
          #f3e5f5,
          #fce4ec,
          #e8f5e9,
          #fff3e0
        );
        background-size: 800% 800%;
        animation: gradientFlow 30s ease infinite;
      }

      header {
        text-align: center;
        padding: 4rem 1rem 2rem 1rem;
      }

      header h1 {
        font-size: 3.5rem;
        margin: 0;
        background: linear-gradient(to right, #1a1a1a, var(--accent-color));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      header p {
        color: #666;
        margin-top: 10px;
        font-weight: 300;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto 4rem auto;
        padding: 0 1.5rem;
      }

      /* --- 3. FILTER BUTTONS --- */
      .filter-container {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-bottom: 3rem;
        flex-wrap: wrap;
      }

      .filter-btn {
        padding: 10px 25px;
        background: var(--bg-secondary);
        border: 1px solid var(--glass-border);
        color: #666;
        border-radius: 30px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-family: inherit;
        font-size: 0.9rem;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .filter-btn:hover,
      .filter-btn.active {
        background: var(--accent-color);
        color: #fff;
        box-shadow: 0 4px 12px rgba(0, 102, 204, 0.3);
        font-weight: 600;
      }

      /* --- 4. PORTFOLIO GRID --- */
      .portfolio-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 2rem;
      }

      .project-card {
        position: relative;
        border-radius: 16px;
        overflow: hidden;
        cursor: pointer;
        height: 300px;
        background: var(--bg-secondary);
        border: 1px solid var(--glass-border);
        transition: transform 0.4s ease, opacity 0.4s ease;
        animation: fadeIn 0.5s ease forwards;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      .project-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 40px rgba(0, 102, 204, 0.2);
      }

      .project-card img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.5s ease;
      }

      .project-card:hover img {
        transform: scale(1.1);
      }

      .card-overlay {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: var(--card-overlay);
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
        padding: 2rem;
        box-sizing: border-box;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .project-card:hover .card-overlay {
        opacity: 1;
      }

      .card-overlay h3 {
        margin: 0;
        color: var(--text-color);
        transform: translateY(20px);
        transition: 0.4s;
      }

      .card-overlay p {
        color: #555;
        font-size: 0.9rem;
        transform: translateY(20px);
        transition: 0.4s 0.1s;
      }

      .project-card:hover .card-overlay h3,
      .project-card:hover .card-overlay p {
        transform: translateY(0);
      }

      .category-badge {
        position: absolute;
        top: 15px;
        right: 15px;
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(4px);
        padding: 5px 12px;
        border-radius: 20px;
        font-size: 0.7rem;
        text-transform: uppercase;
        letter-spacing: 1px;
        border: 1px solid rgba(0, 0, 0, 0.1);
        color: var(--accent-color);
        font-weight: 600;
      }

      .loading-message {
        text-align: center;
        padding: 3rem;
        color: #666;
        font-size: 1.1rem;
      }

      /* --- 5. MODAL --- */
      .modal {
        display: none;
        position: fixed;
        z-index: 2000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(8px);
        justify-content: center;
        align-items: center;
        flex-direction: column;
      }

      .modal-content {
        position: relative;
        max-width: 90%;
        max-height: 85vh;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .slider-image {
        max-width: 100%;
        max-height: 80vh;
        border-radius: 8px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        transition: opacity 0.3s;
      }

      .close-btn {
        position: absolute;
        top: 20px;
        right: 40px;
        color: #1a1a1a;
        font-size: 50px;
        cursor: pointer;
        transition: 0.3s;
        line-height: 0.5;
      }

      .close-btn:hover {
        color: var(--accent-color);
      }

      .nav-btn {
        cursor: pointer;
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        width: 50px;
        height: 50px;
        color: #1a1a1a;
        font-weight: bold;
        font-size: 20px;
        border-radius: 50%;
        background-color: rgba(255, 255, 255, 0.9);
        border: 1px solid var(--glass-border);
        display: flex;
        align-items: center;
        justify-content: center;
        transition: 0.3s;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .nav-btn:hover {
        background-color: var(--accent-color);
        color: #fff;
      }

      .prev {
        left: -70px;
      }
      .next {
        right: -70px;
      }

      @media (max-width: 768px) {
        .prev {
          left: 10px;
        }
        .next {
          right: 10px;
        }
      }

      .caption-container {
        text-align: center;
        margin-top: 15px;
      }

      .caption-container h3 {
        color: var(--accent-color);
        margin-bottom: 5px;
      }

      /* --- 6. CONTACT SECTION --- */
      .contact-section {
        max-width: 900px;
        margin: 5rem auto 3rem auto;
        padding: 3rem 2rem;
        background: var(--bg-secondary);
        border: 1px solid var(--glass-border);
        border-radius: 20px;
        backdrop-filter: blur(12px);
        text-align: center;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      }

      .contact-section h2 {
        font-size: 2.5rem;
        margin-bottom: 0.5rem;
        background: linear-gradient(to right, #1a1a1a, var(--accent-color));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      .contact-section p {
        color: #666;
        margin-bottom: 2rem;
        font-weight: 300;
      }

      .contact-form {
        display: grid;
        gap: 1.2rem;
      }

      .form-group input,
      .form-group textarea {
        width: 100%;
        padding: 14px 18px;
        border-radius: 12px;
        border: 1px solid var(--glass-border);
        background: rgba(255, 255, 255, 0.8);
        color: #1a1a1a;
        font-family: inherit;
        outline: none;
        transition: 0.3s;
      }

      .form-group input::placeholder,
      .form-group textarea::placeholder {
        color: #999;
      }

      .form-group input:focus,
      .form-group textarea:focus {
        border-color: var(--accent-color);
        box-shadow: 0 0 12px rgba(0, 102, 204, 0.2);
      }

      .submit-btn {
        margin-top: 1rem;
        padding: 14px 30px;
        border-radius: 30px;
        border: none;
        background: var(--accent-color);
        color: #fff;
        font-weight: 600;
        cursor: pointer;
        transition: 0.3s;
        box-shadow: 0 4px 12px rgba(0, 102, 204, 0.3);
      }

      .submit-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 102, 204, 0.4);
      }

      /* --- ANIMATIONS --- */
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes gradientFlow {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <h1>DESIGN</h1>
      <p>Full Stack Developer & Visual Designer</p>
    </header>

    <div class="container">
      <div class="filter-container">
        <button class="filter-btn active" onclick="filterProjects('all', this)">
          All Works
        </button>
        <button class="filter-btn" onclick="filterProjects('web', this)">
          Web Dev
        </button>
        <button class="filter-btn" onclick="filterProjects('design', this)">
          UI/UX Design
        </button>
        <button class="filter-btn" onclick="filterProjects('photo', this)">
          Photography
        </button>
      </div>

      <div class="portfolio-grid" id="portfolioGrid">
        <div class="loading-message">Loading projects...</div>
      </div>
    </div>

    <!-- CONTACT SECTION -->

    <!-- MODAL -->
    <div id="projectModal" class="modal">
      <span class="close-btn" onclick="closeModal()">&times;</span>
      <div class="modal-content">
        <button class="nav-btn prev" onclick="changeSlide(-1)">&#10094;</button>
        <img id="modalImage" class="slider-image" />
        <button class="nav-btn next" onclick="changeSlide(1)">&#10095;</button>
      </div>
      <div class="caption-container">
        <h3 id="modalTitle"></h3>
        <p id="modalCounter" style="color: #666; font-size: 0.8rem"></p>
      </div>
    </div>

    <script>
      /* ============================================
         üìÅ PROJECT CONFIGURATION
         Add your projects with their categories here!
         Categories: 'web', 'design', 'photo'
         ============================================ */
      const PROJECT_FOLDERS = [
        { folder: "krusian", category: "web" },
        { folder: "cafe5050", category: "photo" },
        { folder: "Brand Design", category: "design" },
        // Add more projects here
      ];

      let projects = {};

      /* --- INITIALIZE PROJECTS FROM FOLDER NAMES --- */
      function initializeProjects() {
        const grid = document.getElementById("portfolioGrid");

        if (PROJECT_FOLDERS.length === 0) {
          grid.innerHTML =
            '<div class="loading-message">Please add your project folder names to PROJECT_FOLDERS array in the script.</div>';
          return;
        }

        grid.innerHTML =
          '<div class="loading-message">Loading projects...</div>';

        PROJECT_FOLDERS.forEach((project) => {
          const folderName = project.folder;
          const category = project.category || "web"; // default to 'web' if not specified

          projects[folderName] = {
            title: folderName,
            folder: folderName,
            category: category,
            description: `${folderName} Portfolio`,
          };
        });

        grid.innerHTML = "";
        loadProjects();
      }

      /* --- AUTO-DETECT CATEGORY FROM FOLDER NAME --- */
      function detectCategory(folderName) {
        const lower = folderName.toLowerCase();

        if (
          lower.includes("web") ||
          lower.includes("dashboard") ||
          lower.includes("app") ||
          lower.includes("ecommerce") ||
          lower.includes("e-commerce")
        ) {
          return "web";
        } else if (
          lower.includes("design") ||
          lower.includes("ui") ||
          lower.includes("ux") ||
          lower.includes("brand") ||
          lower.includes("identity")
        ) {
          return "design";
        } else if (
          lower.includes("photo") ||
          lower.includes("photography") ||
          lower.includes("street") ||
          lower.includes("portrait")
        ) {
          return "photo";
        }

        return "web"; // default category
      }

      /* --- LOAD PROJECTS DYNAMICALLY --- */
      function loadProjects() {
        const grid = document.getElementById("portfolioGrid");

        for (const [folderName, project] of Object.entries(projects)) {
          const coverPath = `${project.folder}/cover.jpg`;

          const card = document.createElement("div");
          card.className = "project-card";
          card.setAttribute("data-category", project.category);
          card.onclick = () => openModal(folderName);

          card.innerHTML = `
            <div class="category-badge">${getCategoryLabel(
              project.category
            )}</div>
            <img src="${coverPath}" alt="${
            project.title
          }" onerror="handleImageError(this)" />
            <div class="card-overlay">
              <h3>${project.title}</h3>
              <p>${project.description}</p>
            </div>
          `;

          grid.appendChild(card);
        }
      }

      function handleImageError(img) {
        console.error("Failed to load:", img.src);
        img.src =
          "https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=600&q=80";
      }

      function getCategoryLabel(category) {
        const labels = {
          web: "Web Dev",
          design: "UI/UX",
          photo: "Photo",
        };
        return labels[category] || category.toUpperCase();
      }

      /* --- FILTER --- */
      function filterProjects(category, btn) {
        const cards = document.querySelectorAll(".project-card");
        const buttons = document.querySelectorAll(".filter-btn");

        buttons.forEach((b) => b.classList.remove("active"));
        btn.classList.add("active");

        cards.forEach((card) => {
          const cardCategory = card.getAttribute("data-category");
          if (category === "all" || cardCategory === category) {
            card.style.display = "block";
            card.style.animation = "none";
            card.offsetHeight;
            card.style.animation = "fadeIn 0.5s ease forwards";
          } else {
            card.style.display = "none";
          }
        });
      }

      /* --- MODAL LOGIC --- */
      let currentProjectKey = "";
      let currentImageIndex = 0;
      let currentImages = [];

      const modal = document.getElementById("projectModal");
      const modalImg = document.getElementById("modalImage");
      const modalTitle = document.getElementById("modalTitle");
      const modalCounter = document.getElementById("modalCounter");

      async function openModal(projectKey) {
        currentProjectKey = projectKey;
        currentImageIndex = 0;

        const project = projects[projectKey];
        currentImages = await loadProjectImages(project.folder);

        updateModalContent();
        modal.style.display = "flex";
      }

      async function loadProjectImages(folder) {
        const images = [];

        // Try to load numbered images (1.jpg through 50.jpg)
        for (let i = 1; i <= 50; i++) {
          const imagePath = `${folder}/${i}.jpg`;
          images.push(imagePath);
        }

        return images;
      }

      function closeModal() {
        modal.style.display = "none";
      }

      function changeSlide(direction) {
        currentImageIndex += direction;

        if (currentImageIndex >= currentImages.length) currentImageIndex = 0;
        if (currentImageIndex < 0) currentImageIndex = currentImages.length - 1;

        updateModalContent();
      }

      function updateModalContent() {
        const project = projects[currentProjectKey];
        modalImg.style.opacity = 0;

        setTimeout(() => {
          modalImg.src = currentImages[currentImageIndex];
          modalImg.onerror = function () {
            this.src =
              "https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=1200";
          };
          modalImg.style.opacity = 1;
        }, 200);

        modalTitle.innerText = project.title;
        modalCounter.innerText =
          currentImageIndex + 1 + " / " + currentImages.length;
      }

      window.onclick = function (e) {
        if (e.target === modal) closeModal();
      };

      document.addEventListener("keydown", function (e) {
        if (modal.style.display === "flex") {
          if (e.key === "ArrowLeft") changeSlide(-1);
          if (e.key === "ArrowRight") changeSlide(1);
          if (e.key === "Escape") closeModal();
        }
      });

      // Initialize projects on page load
      window.addEventListener("DOMContentLoaded", initializeProjects);
    </script>
  </body>
</html>
